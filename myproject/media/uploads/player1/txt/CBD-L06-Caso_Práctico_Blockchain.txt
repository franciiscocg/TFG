Laboratorio Blockchain
Caso Práctico: Contrato inteligente TfG Manager
Objetivo
El objetivo de este documento es describir un caso práctico para poner en práctica los conceptos
aprendidos sobre contratos inteligentes.
Caso Práctico: TfG Manager
Queremos diseñar e implementar un contrato inteligente en Solidity que gestione el proceso
completo de asignación, evaluación y calificación de un Trabajo de Fin de Grado (TFG) en una
institución como la ETSII. Este sistema debe permitir un control eficiente y seguro sobre las acciones
de los actores involucrados en el mismo: el coordinador de la asignatura TfG, los tutores, los
miembros del Tribunal que evalúan el mismo. El tribunal de evaluación está formado por un
presidente y un secretario. Se debe garantizar que cada uno de ellos solo pueda realizar las acciones
que le corresponden.
A través de un conjunto de funcionalidades, se deben gestionar los registros de tutores y miembros
del tribunal, la asignación de tribunales a los TFGs, la inscripción del TfG, la asignación de
calificaciones por parte del tutor y el tribunal, y la publicación y registro de la defensa, asegurando
además que se cumplan las condiciones necesarias para el cálculo final de la nota.
Para asegurar la integridad y transparencia del sistema, se requiere implementar mecanismos de
seguridad y auditoría, utilizando modificadores para restringir accesos y eventos para el seguimiento
de las acciones importantes. Además, el diseño debe ser claro y fácilmente mantenible, utilizando
enumeraciones y estructuras de datos para gestionar de manera eficiente los estados y roles dentro
del sistema.
En este contexto se han definido los siguientes requisitos funcionales:
RF-01 Registro de Tutores y Tribunal
• Solo el Coordinador puede registrar tutores y miembros del tribunal (presidente y secretario).
RF-02 Inscripción del TFG
• Un tutor registrado puede inscribir un TFG con un título.
RF-03 Asignación de Tribunal
• El Coordinador asigna un tribunal (presidente y secretario) a cada TFG, ambos deben estar
registrados como miembros válidos del tribunal.
RF-04 Calificación del Tutor
• Solo el tutor asignado al TFG puede registrar la calificación del estudiante.
• Solo se puede calificar una vez.
RF-05 Publicación de la Defensa
• El Coordinador publica la fecha oficial de defensa, que debe ser posterior a la fecha de
inscripción.Laboratorio de blockchain
RF-06 Registro de Defensa
• Solo el Secretario del tribunal asignado al TFG puede registrar que la defensa se ha realizado.
• No puede registrarse antes de la fecha oficial.
RF-07 Firma del Presidente
• Solo el Presidente del tribunal puede firmar para validar la calificación, y solo después de que
el tribunal ha calificado.
RF-08 Calificación del Tribunal
• Solo el Secretario del tribunal puede registrar la calificación del tribunal.
• Requiere que:
o La defensa haya sido realizada.
o Solo se puede calificar una vez.
RF-08 Cálculo de Nota Final (Nota Acta)
• Solo el Coordinador puede calcular la nota final del TFG.
• Requiere que:
o El tutor y el tribunal hayan calificado.
o La defensa haya sido realizada.
• El peso es: 40% tutor, 60% tribunal.
RF-09 Consulta de la nota del acta.
• Una vez publicada la nota del acta, cualquiera podría consultarla.
Y los siguientes requisitos no funcionales:
RNF-01 Seguridad
• Cada función importante está protegida con modificadores para que solo el actor autorizado
pueda ejecutarla.
RNF-02 Auditoría
• Todos los eventos importantes (registro, calificación, firma, publicación, etc.) generan un
evento para seguimiento.
RNF-03 Claridad y mantenimiento
• Uso de enumeraciones y structs para estructurar estados y roles de manera clara.